
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../albums/">
      
      
        <link rel="next" href="../semantic-map/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Configuration - PhotoMapAI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PhotoMapAI" class="md-header__button md-logo" aria-label="PhotoMapAI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PhotoMapAI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lstein/PhotoMapAI" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PhotoMapAI" class="md-nav__button md-logo" aria-label="PhotoMapAI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    PhotoMapAI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lstein/PhotoMapAI" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/cuda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CUDA Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basic-usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Search
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../albums/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Albums
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#changing-the-web-host-and-port" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the Web Host and Port
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-photomapai-under-https" class="md-nav__link">
    <span class="md-ellipsis">
      Running PhotoMapAI Under HTTPS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running PhotoMapAI Under HTTPS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-a-self-signed-ssl-certificate" class="md-nav__link">
    <span class="md-ellipsis">
      Install a Self-Signed SSL Certificate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-certbot" class="md-nav__link">
    <span class="md-ellipsis">
      Use Certbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-a-reverse-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Use a Reverse Proxy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pointing-to-an-alternative-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Pointing to an Alternative Configuration File
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../semantic-map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Semantic Map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../keyboard-shortcuts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Keyboard Shortcuts
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running from Docker
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer/frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Frontend
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#changing-the-web-host-and-port" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the Web Host and Port
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-photomapai-under-https" class="md-nav__link">
    <span class="md-ellipsis">
      Running PhotoMapAI Under HTTPS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running PhotoMapAI Under HTTPS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-a-self-signed-ssl-certificate" class="md-nav__link">
    <span class="md-ellipsis">
      Install a Self-Signed SSL Certificate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-certbot" class="md-nav__link">
    <span class="md-ellipsis">
      Use Certbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-a-reverse-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Use a Reverse Proxy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pointing-to-an-alternative-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Pointing to an Alternative Configuration File
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="configuration">Configuration</h1>
<p>PhotoMapAI is primarily configured through the web interface as described in <a href="../basic-usage/#changing-settings">Basic Usage</a> and <a href="../albums/">Albums</a>. However, there are a number of runtime parameters that control how the web service behaves.</p>
<h2 id="changing-the-web-host-and-port">Changing the Web Host and Port</h2>
<p>By default, PhotoMapAI runs its web service on port 8050 and only accepts connections on the local machine (<code>localhost</code>). These can be changed on the command line used to launch the application using the <code>--port</code> and <code>--host</code> options:</p>
<pre><code>start_photomap --port 8000 --host 0.0.0.0
</code></pre>
<p>This command changes the port to port 8000, and allows PhotoMapAI to listen for connections on the wildcard IP address <code>0.0.0.0</code>, meaning that it will accept connections for any network-accessible location.</p>
<p>If you are using a launcher script to start PhotoMapAI (e.g. <code>start_photomap.bat</code>) you can change these values by opening the script in a text editor (<code>Notepad</code> on Windows), finding the line containing <code>start_photomap</code>, and adding the options as shown above.</p>
<p>Alternatively, you can change the port and host interface by setting two environment variables prior to launching PhotoMapAI. These are:</p>
<ul>
<li><code>PHOTOMAP_HOST</code> - the host interface to accept connections from</li>
<li><code>PHOTOMAP_PORT</code> - the listen port</li>
</ul>
<p>On Linux and Macintosh systems, you can set these environment variables on the command line like so:</p>
<pre><code class="language-bash">PHOTOMAP_HOST=&quot;0.0.0.0&quot; PHOTOMAP_PORT=&quot;8000&quot; start_photomap
</code></pre>
<p>Or you can permanently fix these environment variables by setting them in your shell's profile, e.g. <code>.bashrc</code>.</p>
<p>On Windows systems, setting environment variables can be done through the GUI as well as on the command line. See <a href="https://phoenixnap.com/kb/windows-set-environment-variable">How to Set Environment Variables in Windows</a> for a good walkthrough.</p>
<h2 id="running-photomapai-under-https">Running PhotoMapAI Under HTTPS</h2>
<p>By default, PhotoMapAI runs as a non-secure <code>HTTP</code> service. This generates a warning icon in some browsers, but more seriously prevents cut and paste between the PhotoMapAI tab and browser tabs and desktop applications. </p>
<p>There are several ways to enable HTTP for PhotoMapAI:</p>
<h3 id="install-a-self-signed-ssl-certificate">Install a Self-Signed SSL Certificate</h3>
<p>In this method, you generate self-signed encryption certificate and
private key files and point PhotoMapAI to them using its <code>--cert</code> and
<code>--key</code> command-line options.</p>
<p>Guides to generating and installing self-signed certificates:</p>
<ul>
<li>
<p><a href="https://learn.microsoft.com/en-us/entra/identity-platform/howto-create-self-signed-certificate">Creating Self-Signed Certificates with Windows PowerShell</a>. Please apply the arguments to create .crt and .pem files.</p>
</li>
<li>
<p><a href="https://gist.github.com/elklein96/a15090f35a41e16bdc8574a7fb81e119">Creating Self-Signed Certificates with OpenSSL (Mac/Linux)</a></p>
</li>
</ul>
<p>These methods will leave you with two files, a .crt certificate file,
and a .pem key file. Relaunch the PhotoMapAI server using <code>--cert
/path/to/.crt file</code> and <code>--key /path/to/.pem file</code>. If you are using
the desktop launcher to start the server, simply open the launcher
file with a text editor, and add the <code>--cert</code> and <code>--key</code> options to
the end of the line that ends with <code>start_photomap</code>.</p>
<p>After installing the certificate/key pair and relaunching the server,
you will be able to access the PhotoMapAI server using the https://
URL. Your browser will complain about an unknown certificate authority
when you first load the URL and ask you to confirm that you trust the site.</p>
<h3 id="use-certbot">Use Certbot</h3>
<p>The <a href="https://certbot.eff.org/">Certbot</a> tool provides public certificates that
browsers automatically trust. It is very easy to use, but it requires that you
have a web running on port 80 that accepts incoming HTTP connections.</p>
<p>Once the Certbot certificate and keyfile are generated, follow the
directions in the previous section to configure PhotoMapAI to use them.</p>
<h3 id="use-a-reverse-proxy">Use a Reverse Proxy</h3>
<p>A final option is to keep PhotoMapAI running on HTTP, but use a reverse
proxy from a running web server to translate HTTPS requests on the
reverse proxy into HTTP requests to PhotoMapAI. The main advantage of this
is that you get the additional benefit of all the web server's configuration
controls, such as the ability to add password protection.</p>
<p>Here are some guides for setting up reverse proxies. The first is a
general guide for configuring a reverse proxy with the popular Nginx
web server. The second features a Windows-specific walkthrough.</p>
<ul>
<li><a href="https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/">NGINX Reverse Proxy</a></li>
<li><a href="https://virendra.dev/blog/setting-up-nginx-as-a-reverse-proxy-on-windows">NGINX Reverse Proxy on Windows</a></li>
</ul>
<p>You will need to install encryption certificates for the Nginx server using <a href="https://certbot.eff.org/">Certbot</a>. The final configuration of the proxy server will look something like this:</p>
<pre><code>    location /photomap/ {
    proxy_pass http://localhost:8050/;
</code></pre>
<p>This is saying that when a request comes in for
<code>https://your.host/photomap/</code> it will be translated into a request to
<code>http://localhost:8050/</code> where PhotoMapAI is running. It is possible to
run the proxy server and the PhotoMapAI server on separate machines as well.</p>
<h2 id="pointing-to-an-alternative-configuration-file">Pointing to an Alternative Configuration File</h2>
<p>PhotoMapAI stores its album definitions and other configuration information in a configuration file. It is not usually necessary to manipulate it directly, but if you wish you can point to an alternative config file in order to have multiple PhotoMapAI servers each hosting separate album collections.</p>
<p>The config file is stored in different places depending on the platform:</p>
<table>
<thead>
<tr>
<th>Platform</th>
<th>Config File Path</th>
</tr>
</thead>
<tbody>
<tr>
<td>Linux</td>
<td>~/.config/photomap/config.yaml</td>
</tr>
<tr>
<td>MacOS</td>
<td>~/Library/Application Support/photomap/config.yaml</td>
</tr>
<tr>
<td>Windows</td>
<td>C:\Users\<user>\AppData\Roaming\photomap\config.yaml</td>
</tr>
</tbody>
</table>
<p>To run PhotoMapAI off a different config file, you may launch it with the <code>--config</code> option on the command line, similar to setting the port and host. In the below example we specify an alternative config file named <code>photomap_2.yaml</code></p>
<pre><code>start_photomap --config ~/photomap_2.yaml
</code></pre>
<p>If the indicated config file doesn't exist when you launch PhotoMapAI, it will be created automatically.</p>
<p>You may also point to an alternative configuration file by setting the environment variable <code>PHOTOMAP_CONFIG</code>, as described in the previous section:</p>
<pre><code class="language-bash">PHOTOMAP_CONFIG=~/photomap_2.yaml start_photomap
</code></pre>
<p>It is also possible, but not recommended, to edit the configuration file directly using a text editor. The format is straightforward to understand, but liable to change in the future.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": "-content.code.copy", "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>